---
title: "Python Image Processing with skimage"
author: "J. R. Minter"
date: "`r format(Sys.time(), '%Y-%m-%d')`"
output:
  knitr:::html_vignette:
    css: ../theme/jm-mod-vignette.css
    number_sections: yes
    toc: yes
vignette: >
  %\VignetteIndexEntry{Python Image Processing with skimage}
  %\VignetteEngine{knitr::rmarkdown}
---


```{r setup, cache = F, echo = F, message = F, warning = F, tidy = F}
# make this an external chunk that can be included in any file
library(knitr)
options(width = 72)
opts_chunk$set(message = F, error = F, warning = F, comment = NA, fig.align = 'center', dpi = 100, tidy = F, cache.path = '.cache/', fig.path = 'figure/')

options(xtable.type = 'html')
knit_hooks$set(inline = function(x) {
  if(is.numeric(x)) {
    round(x, getOption('digits'))
  } else {
    paste(as.character(x), collapse = ', ')
  }
})
knit_hooks$set(plot = knitr:::hook_plot_html)
```
[Back to Index](../README.html)

skimage is a useful image processing package

# Key documentation

- [The API Reference](http://scikit-image.org/docs/dev/api/api.html) should be my first stop...

- [Key examples](http://scikit-image.org/docs/dev/auto_examples/index.html) - they have lots of examples to get started.

- [The SciPy Lecture Notes](http://www.scipy-lectures.org/) provide a lot of complementary information.

- [Emmanuelle Gouillart's blog](http://emmanuelle.github.io/). Her tutorial on [segmentation](http://emmanuelle.github.io/a-tutorial-on-segmentation.html) is **particularly relevant**.  She reminded me that following the [NumPy doc string convention](http://emmanuelle.github.io/tools-and-tips-for-documenting-scientific-python-projects.html) gets me a long way along the road to clarity. The details are [here...](https://github.com/numpy/numpy/blob/master/doc/HOWTO_DOCUMENT.rst.txt#sections).

- [GitHub tutorial notebooks](https://github.com/scikit-image/skimage-tutorials/tree/master/lectures). We owe Stéfan Van Der Walt, Emmanuelle Gouillart, and others a debt of gratitude for these.

- [Stéfan Van Der Walt](http://bids.berkeley.edu/people/st%C3%A9fan-van-der-walt) makes his [lecture notes](https://github.com/stefanv/teaching) available on GitHub.

- [Sébastien Brisard's blog](http://sbrisard.github.io/posts/20150223-Orientation_correlations_among_rice_grains-01.html) has a really nice series on 3-D segmentation of rice grains.

## Youtube videos

### Stefan van der Walt (2012)
[skimage 2012 Stefan van der Walt](https://www.youtube.com/watch?v=QXTyYYx5_6o) - a nice introduction 

[Image Analysis in Python with SciPy and Scikit Image | SciPy 2015 Tutorial | Stefan Van der Wal](https://www.youtube.com/watch?v=olb7R1cuzyU)

![hierarchy](./images/skimage-hierarchy.png)

`ndimage` is written in pure C. See the [ndimage](http://docs.scipy.org/doc/scipy/reference/ndimage.html) docs. He illustrated with the SEM image of glass looking for bubbles (it is a BSE image).

He showed a great way to get a histogram by flattening...

![histogram](./images/histogramExStefan.png)

### Others


[Image Processing with Scikit Image | EuroSciPy 2015 | Emmanuelle Gouillart, Juan Nunez Iglesias](https://www.youtube.com/watch?v=SZvez2u-w9I) Juan Iglesia had problems with the video projector, but Emanuelle's presnetion was especially helpful. She has her tutorials on [github](https://github.com/emmanuelle/image-processing-tutorials). She processis SEM images as well and is a contributor to skimage...


[SciPy 2014 Juan Nunez Iglesia and Tony Yu](https://www.youtube.com/watch?v=MP-MTiCETYg)

[Ravi Chityala](https://www.youtube.com/watch?v=LIltHIIxZxo) who wrote [Image Processing and Acquisition using Python](https://www.crcpress.com/Image-Processing-and-Acquisition-using-Python/Chityala-Pudipeddi/9781466583757). 

and

[PyCon Australia](https://www.youtube.com/watch?v=hqOsfS3dP9w) by Edward Scofield. Lot's of ummmms.


# A useful image montage function

This creates a montage of images with an optional colorbar. I spent **a lot of time** getting that colorbar to work right!

```
from matplotlib import pyplot as plt
from mpl_toolkits.axes_grid1 import make_axes_locatable

def plotImageMontage(lData, lTitles, nrows, ncols, title=None,
                     baseSize=5, fSize=12, bare=False, cb=False, **kwargs):
    xSize = ncols*baseSize
    ySize = nrows*baseSize
    fig, axes = plt.subplots(nrows=nrows, ncols=ncols, figsize=(xSize, ySize))
    if title != None:
        fig.suptitle(title, fontsize=fSize+2)
    for ax, im, ti in zip(axes.flat, lData, lTitles):
        ax.set_title(ti, fontsize=fSize)
        cim = ax.imshow(im, **kwargs)
        if cb == True:
            # Create divider for existing axes instance
            div = make_axes_locatable(ax)
            # Append axes to the right of ax, with 10% width of ax
            cax = div.append_axes("right", size="10%", pad=0.05)
            # Create colorbar in the appended axes
            cbar = plt.colorbar(cim, cax=cax)
        # Remove xicks from ax
        if bare == True:
            ax.xaxis.set_visible(False)
            ax.yaxis.set_visible(False)
    plt.show()
    return(fig)


res = plotImageMontage([orig,astro,deconvolved], ['orig', 'blurred', 'deconvolved'], 1, 3,
                       title='Skimage Deconvolution Demo',baseSize=5, bare=True,
                       cb=True, vmin=0, vmax=1)

```

# Useful ipython notebooks

[morphology](http://nbviewer.ipython.org/github/chintak/scikit-image-examples/blob/master/skimage_morphology.ipynb)    
[another morphology](http://nbviewer.ipython.org/url/www.cs.put.poznan.pl/wjaskowski/pub/teaching/kck/lectures/notebooks/morphology.ipynb) and [the whole group](http://www.cs.put.poznan.pl/wjaskowski/pub/teaching/kck/lectures/notebooks/)      
[parallel image processing](http://nbviewer.ipython.org/github/minrk/IPython-parallel-tutorial/blob/master/Index.ipynb) - especially [this one](http://nbviewer.ipython.org/github/minrk/IPython-parallel-tutorial/blob/master/examples/Parallel%20image%20processing.ipynb) 




[Back to Index](../README.html)